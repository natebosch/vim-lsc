language: dart

branches:
  only:
    - master

dart:
  - dev

cache:
  directories:
    - "$HOME/.pub-cache"

addons:
  apt:
    update: true
    packages:
      - python3
      - python3-pip
      - python3-setuptools
      - vim-gtk

before_install:
  - pip3 install --user vim-vint

before_script:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"

script:
  - vint .
  - test/travis.sh
